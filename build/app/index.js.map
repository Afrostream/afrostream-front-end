{"version":3,"sources":["../../server/app/index.js"],"names":[],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;;AAEA,QAAQ,GAAR,CAAY,QAAZ,GAAuB,QAAQ,GAAR,CAAY,QAAZ,IAAwB,aAA/C;;AAEA,IAAM,SAAS,cAAI,MAAJ,CAAW,iBAAO,MAAP,CAAc,IAAzB,EAA+B,YAAM;AAAA,wBACpB,OAAO,OAAP,EADoB;;AAAA,MAClC,IADkC,mBAC3C,OAD2C;AAAA,MAC5B,IAD4B,mBAC5B,IAD4B;;AAElD,UAAQ,GAAR,qCAA8C,IAA9C,SAAsD,IAAtD,E;;AAEA,MAAI,QAAQ,GAAR,CAAY,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAI,YAAY,sBAAO,iBAAO,MAAP,CAAc,GAArB,CAAhB;AACA,cAAU,QAAV,CAAmB,iBAAO,MAAP,CAAc,SAAjC,EAA4C,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC9D,UAAI,GAAJ,EAAS,OAAO,QAAQ,GAAR,CAAY,GAAZ,CAAP,C;AACT,cAAQ,GAAR,CAAY,GAAZ,E;AACD,KAHD;AAID;AACF,CAXc,CAAf","file":"index.js","sourcesContent":["import config from '../../config'\nimport app from './app'\nimport fastly from 'fastly'\n// Set default node environment to development\nprocess.env.NODE_ENV = process.env.NODE_ENV || 'development'\n\nconst server = app.listen(config.server.port, () => {\n  const {address: host, port} = server.address()\n  console.log(`Front-End server is running at ${host}:${port}`) // eslint-disable-line no-console\n  //on production we decache all fasly routes\n  if (process.env.NODE_ENV === 'production') {\n    let fastLySdk = fastly(config.fastly.key)\n    fastLySdk.purgeAll(config.fastly.serviceId, function (err, obj) {\n      if (err) return console.dir(err)   // Oh no!\n      console.dir(obj)                   // Response body from the fastly API\n    })\n  }\n})\n"]}